<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <title>demo</title>
    <link rel="stylesheet" href="styles/m-zt.css">
    <link rel="stylesheet" href="styles/animate.css">
</head>


<body>
    <div class="wrapper">
        <div class="title">
            backbone
        </div>
        <button id="check">报到</button>
        <ul id="world-list">
        </ul>
    </div>

    <input type="hidden" id="hddTime" value="2015/4/10 15:14:55">

    <!-- vender -->
    <!-- <script src="vender/zepto/zepto.min.js"></script> -->
    <script src="vender/jquery/jquery-1.9.1.min.js"></script>
    <script src="vender/underscore/underscore-min.js"></script>
    <script src="vender/backbone-min.js"></script>
    <!-- self made widgets -->
    <script>

        (function($){
            World = Backbone.Model.extend({
                name: null
            });

            Worlds = Backbone.Collection.extend({
                initialize: function(models, options){
                    this.bind('add', options.view.addOneWOrld);
                }
            });

            AppView = Backbone.View.extend({
                el: $('body'),
                initialize: function(){
                    this.worlds = new Worlds(null, {view: this});
                },
                events: {
                    'click #check' : 'checkIn'
                },
                checkIn: function(){
                    var world_name = prompt('excuse me, where u from?');
                    if(world_name === ''){
                        world_name = '未知'
                    }
                    var world = new World({
                        name: world_name
                    });
                    this.worlds.add(world);
                },
                addOneWOrld: function(model){
                    $("#world-list").append("<li>这里是来自 <b>" + model.get('name') + "</b> 星球的问候：hello world！</li>");
                }
            });

            var appview = new AppView;

        })(jQuery);
        // $('.slider').mSlider();
        // var slider1 = new Slider('.slider', {});
    </script>
</body>

</html>
